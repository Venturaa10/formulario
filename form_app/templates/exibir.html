{% extends 'shared/base.html' %}
{% block content %}
<title>Clientes Cadastrados</title> <!--Nome da Guia de Navegação-->

<style>
    .messages {
        margin-left: 20px;
    }

    .corpo {
        background-color: wheat;
    }

    .borda_container {
        background-color: black;
        width: auto;
        /* Largura maxima */
        max-width: 1200px;
        /* Tamanho, estilo, cor */
        border: 7px solid rgb(0, 0, 0);
        border-radius: 8px;
    }

    .container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
        margin: 0 auto;
        width: 100%;
    }

    #titulo_tabela {
        text-align: center;
    }

    .buscar {
        display: flex;
        justify-content: flex-start;
        width: 100%;
        /* Ocupando toda a largura da div*/
        padding-bottom: 5px;
        /* Espaçamento inferior */
        padding-left: 310px;
        /* Espaçamento a esquerda */
        margin: 0;
        /* Remove as margens */
    }

    .form-control{
        color: rgb(245, 245, 245);
        background-color: rgb(227, 198, 162);
    }

    /* Estiliza o placeholder de determinado input */
    .form-control::placeholder {
        color: rgb(34, 48, 60);
        font-size: 15px;
        font-weight: bold;
    }
    
    .botao_pesquisa {
        background-color: rgb(136, 127, 108);
        color: rgb(34, 48, 60);
        font-weight: bold;
        border-radius: 10px;
    }

    .botao_pesquisa:hover {
        color: whitesmoke; /* Muda a cor do link ao passar o mouse */
    }
    #div_busca_mensagem {
        text-align: left;
        margin: 0;
        padding-top: 8px;
    }
    #busca_mensagem {
        font-weight: bold;
        color: rgb(178, 73, 73);
    }
    /* Div dos subtitulos */
    .subtitulos {
        color: whitesmoke;
        background-color: rgb(0, 0, 0)
    }

    .subtitulos,
    .info_cliente {
        /* Configura layout de grade */
        display: grid;
        /* Centraliza verticalmente os itens na grade */
        align-items: center;
        /* Largura entre as colunas */
        grid-template-columns: 120px 150px 200px 150px 80px 80px 80px;
    }

    /* Estiliza a fonte do subtitulo */
    .fonte_subtitulo {
        font-size: 20px;
        text-align: center;
    }

    #subtitulo_status {
        padding-right: 12px;
    }

    /* Ajustando o posicionamento dos substitulos correspondente a informação do cliente  */
    #subtitulo_editar,
    #subtitulo_excluir {
        padding-left: 17px;
    }

    /* Div responsavel por posicionar corretamente as informações do cliente de acordo com o subtitulo correspondente a cada uma delas */
    .info_cliente {
        padding-left: 5px;
        margin-bottom: 5px;
        background-color: antiquewhite
    }

    /* Estiliza as informações do cliente */
    .info_objeto {
        font-size: 15px;
        font-weight: bold;
        font-family: Arial, Helvetica, sans-serif;
        text-align: center;

    }

    /* Estiliza o conteudo dentro do quadrado de 'status' */
    .status_ativo {
        background-color: rgb(9, 167, 127);
    }

    /* Estiliza o conteudo dentro do quadrado de 'status' */
    .status_inativo {
        color: rgb(0, 0, 0);
        background-color: rgb(139, 63, 65);
    }

    .status_ativo,
    .status_inativo {
        margin-top: 3px;
        margin-bottom: 3px;
        /* Centralizando "ativo" e "Inativo" dentro do quadrado*/
        align-items: center;
        display: flex;
        justify-content: center;
        /* Fim Centralizando */
        font-size: 14px;
        font-weight: bold;
        width: 55px;
        height: 30px;
        border: 2px solid black;
        border-radius: 5px;
        opacity: 0.8;
        /* Fazendo com que não seja possivél interagir com o campo de "Status" */
        pointer-events: none;
    }

    #botao_editar {
        color: goldenrod;
    }

    #botao_excluir {
        color: rgb(181, 70, 70);
    }

    /* Mensangens De Aviso*/
    .messages.info {
        font-weight: bold;
        /* background-color: #ffd900; */
        color: #8e7926;
    }

    /* Mensangens Bem Sucedidas */
    .messages.success {
        font-weight: bold;
        background-color: #d4edda;
        color: #155724;
    }

    /* Mensangens Mal Sucedidas */
    .messages.error {
        font-weight: bold;
        background-color: #f8d7da;
        color: rgb(178, 73, 73);
    }
</style>

<body class="corpo">
    <div>
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            {% if 'login' in message.extra_tags %}
            <span class="messages {{ message.tags }}">{{ message }}</span>
            {% endif %}
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div id="titulo_tabela">
        <h2>Clientes Cadastrados</h2>
    </div>
    <div class="buscar">
        <nav class="barra_pesquisa">
            <div class="container-fluid">
                <form action="{% url 'buscar' %}" name="buscar" class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Buscar por CPF" aria-label="Search">
                    <button class="botao_pesquisa" type="submit">Buscar</button>
                </form>
            </div>
        </nav>
        <!-- Mensagem da função 'buscar' em views -->
                {% if messages %}
            <div id="div_busca_mensagem">
                {% for message in messages %}
                {% if 'buscar' in message.extra_tags %}
                <span id="busca_mensagem">{{ message }}</span>
                {% endif %}
                {% endfor %}
            </div>
            {% endif %}
    </div>
    <div class="container">
        <div class="borda_container">
            <div class="subtitulos">
                <h5 class="fonte_subtitulo" id="subtitulo_nome" scope="col">Nome</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_sobrenome" scope="col">Sobrenome</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_email" scope="col">Email</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_number" scope="col">CPF</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_status" scope="col">Status</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_editar" scope="col">Editar</h5>
                <h5 class="fonte_subtitulo" id="subtitulo_excluir" scope="col">Excluir</h5>
            </div>
            {% for objeto in cliente %}
            <!-- Dentro do for, pois haverá repetição a cada cadastro novo -->
            <div class="info_cliente">
                <div class="info_objeto">{{objeto.nome}}</div>
                <div class="info_objeto">{{objeto.sobrenome}}</div>
                <div class="info_objeto">{{objeto.email}}</div>
                <div class="info_objeto">{{objeto.cpf}}</div>
                <div class="info_objeto">
                    {% if objeto.ativo %}
                    <div class="status_ativo">Ativo</div>
                    {% else %}
                    <div class="status_inativo">Inativo</div>
                    {% endif %}
                </div>
                <div class="info_objeto">
                    <a id="botao_editar" href="{% url 'editar' objeto.id %}" role="button">Editar</a>
                </div>
                <div class="info_objeto">
                    <a id="botao_excluir" href="{% url 'excluir' objeto.id %}" role="button">Excluir</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <!-- Exibindo as mensagens e estilizando de acordo com a sua extra_tags correspondente em cada views-->
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        {% if 'editar' in message.extra_tags %}
        <span class="messages {{ message.tags }}">{{ message }}</span>
        {% endif %}
        {% if 'excluir' in message.extra_tags %}
        <span class="messages {{ message.tags }}">{{ message }}</span>
        {% endif %}
        {% endfor %}
    </div>
    {% endif %}
</body>
{% endblock %}